## DNS란 무엇인가요?

DNS(Domain Name System)는 사람이 읽기 쉬운 **도메인 이름을 컴퓨터가 이해하는 숫자 형태의 IP주소로 변환**해주는 시스템입니다.
웹사이트 주소를 일일이 숫자로 외울 필요없이 친숙한 이름으로 접속할 수 있도록 하는 인터넷의 전화번호부와 같은 역할을 합니다.

사용자가 브라우저 주소창에 도메인을 입력하면 DNS는 해당 도메인에 연결된 IP주소를 찾아내어 사용자의 컴퓨터가 올바른 서버에 접속할 수 있도록 안내합니다.
이러한 도메인과 IP 주소의 대응 정보를 관리하는 서버를 네임 서버 또는 DNS 서버라고 부릅니다.

### DNS 질의 과정
브라우저 주소창에 `www.banpick.kr`을 입력했을 때 IP 주소를 찾아가는 과정은 아래의 여러 단게를 거칩니다.
#### 1. 브라우저 캐시 확인
- 가장 먼저 브라우저는 자체 캐시를 확인하여 이전에 방문한 적이 있는 도메인인지 찾아봅니다. 
캐시에 해당 도메인의 IP 주소가 남아있으면 즉시 접속하여 다음 단계들을 생략합니다.

#### 2. 운영체제 캐시 확인
- 브라우저 캐시에 정보가 없으면 운영체제는 자신의 캐시와 hosts 파일을 확인하여 IP 주소를 찾습니다.

#### 3. DNS 리졸버에 요청
- 로컬 캐시에 정보가 없는 경우 컴퓨터는 인터넷 서비스 제공업체(ISP)가 운영하는 DNS 리졸버 서버에 도메인의 IP주소가 뭔지에 대해 질의합니다.
DNS 리졸버는 IP주소를 찾기 시작합니다.

#### 4. 루트 네임 서버에 질의
- 리졸버는 전 세계에 13개가 있는 인터넷의 최상위 루트 네임 서버에 먼저 질의합니다.
- 루트 네임 서버는 `.kr`도메인을 관리하는 TLD(Top-Level Domain) 네임 서버의 주소를 리졸버에게 알려줍니다.

#### 5. TLD 네임 서버에 질의
- 리졸버는 루트 서버로부터 받은 정보를 바탕으로 `.kr`TLD 네임 서버에 다시 질의합니다.
- TLD 네임 서버는 `banpick.kr`도메인을 관리하는 권한 있는 네임 서버의 주소를 리졸버에게 알려줍니다.

#### 6. 권한 있는 네임 서버에 질의
- 마지막으로 리졸버는 `banpick.kr`의 권한 있는 네임 서버에 `www.banpick.kr`의 IP주소가 무엇인지 질의합니다.
- 권한 있는 네임 서버는 `www.banpick.kr`에 대한 최종 IP 주소 정보를 가지고 있으며 이 IP 주소를 리졸버에게 응답합니다.

#### 7. 최종 응답 및 캐싱
- DNS 리졸버는 권한 있는 네임 서버로부터 받은 IP 주소를 컴퓨터에 전달합니다. 동시에 나중의 질의에 더 빠르게 응답하기 위해 이 정보를 자신의 캐시에 저장합니다.
- 컴퓨터는 얻은 IP주소를 사용하여 `www.banpick.kr`웹 서버에 접속하여 웹 페이지를 받아옵니다.

### DNS 레코드 타입
DNS는 IP 주소 외에도 여러 종류의 정보를 저장하며 각 정보의 종류를 레코드 타입으로 구분합니다.

- **A 레코드** : 도메인 이름을 IPv4주소에 연결합니다. 가장 기본적인 레코드입니다.
- **AAAA 레코드** : 도메인 이름을 IPv6주소에 연결합니다.
- **CNAME(Canonical Name)** : 특정 도메인 이름을 다른 도메인 이름의 별칭으로 사용합니다. 예를 들어 `www.banpick.kr`을 `banpick.kr`로 연결할 수 있습니다.
- **MX(Mail Exchanger)** : 해당 도메인의 이메일을 처리하는 메일 서버를 지정합니다. 이메일이 올바른 서버로 전달되게 하는 핵심적인 역할을 합니다.
- **TXT** : 도메인에 대한 텍스트 정보를 저장합니다. 주로 도메인 소유권 확인, 이메일 보안등 다양한 인증 목적으로 사용됩니다.
